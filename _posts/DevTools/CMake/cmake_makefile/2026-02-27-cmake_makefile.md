---
title: "[DevTools/CMake] Make & Makefile"
description: >-
  make
series: "CMake for Beginner"
series_part: 1
author: seongcheol
date: 2026-02-26 15:20:00 +0900
categories: [DevTools, CMake]
tags: [CMake, Make, Makefile]
pin: true
image:
  path: "/assets/img/common/title/cmake_title.jpg"
mermaid: true
---

## ì‹œì‘ ì „, ìš©ì–´ ë° ì»´íŒŒì¼ ë‹¨ê³„ ì •ë¦¬

`gcc`, `g++` ì»´íŒŒì¼ ê³¼ì •ì€ `ì „ì²˜ë¦¬` -> `ì»´íŒŒì¼` -> `ì–´ì…ˆë¸”` -> `ë§í¬` ì´ë ‡ê²Œ 4ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§„ë‹¤.

- __ì „ì²˜ë¦¬ (Preprocessing)__
  - `#include`, `#define` ë“±ê³¼ ê°™ì€ ì „ì²˜ë¦¬ ì§€ì‹œë¬¸ ì²˜ë¦¬
- __ì»´íŒŒì¼ (Compilation)__
  - ì†ŒìŠ¤ì½”ë“œ -> ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ(assembly)
    - ì†ŒìŠ¤ì½”ë“œ íŒŒì¼(.cpp)ì„ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œíŒŒì¼(.s)ë¡œ ë³€í™˜
- __ì–´ì…ˆë¸” (Assemble)__
    - ì–´ì…ˆë¸”ë¦¬ì–´ë¥¼ ëª©ì  ì½”ë“œ(.o)ë¡œ ë³€í™˜
- __ë§í¬ (Linking)__
  - ëª©ì  ì½”ë“œ(.o)ë¥¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ë‹¤ë¥¸ ê°ì²´ íŒŒì¼ê³¼ ê²°í•©í•˜ì—¬ ìµœì¢… ì‹¤í–‰ íŒŒì¼ì„ ìƒì„±

## Make

makeëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì„ ìœ„í•´ ìœ ë‹‰ìŠ¤ ê³„ì—´ ìš´ì˜ì²´ì œì—ì„œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œê·¸ë¨ ë¹Œë“œ ë„êµ¬ì´ë‹¤.
ì—¬ëŸ¬ íŒŒì¼ë“¤ê¹Œì§€ì˜ ì˜ì¡´ì„±ê³¼ ê° íŒŒì¼ì— í•„ìš”í•œ ëª…ë ¹ì„ ì •ì˜í•¨ìœ¼ë¡œì¨ í”„ë¡œê·¸ë¨ì„ ì»´íŒŒì¼í•  ìˆ˜ ìˆìœ¼ë©°, ìµœì¢… í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê³¼ì •ì„ ì„œìˆ í•  ìˆ˜ ìˆëŠ” í‘œì¤€ì ì¸ ë¬¸ë²•ì„ ê°€ì§€ê³  ìˆë‹¤.

> ì°¸ê³ ë¡œ gmakeëŠ” ë¦¬ëˆ…ìŠ¤ì—ì„œ makeì™€ ê°™ë‹¤. ì¦‰, `gmake == make`

ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ì„œ ì‚´í´ë³´ë„ë¡ í•˜ì. ë‹¤ìŒê³¼ ê°™ì€ íŒŒì¼êµ¬ì¡°ë¡œ ë˜ì–´ ìˆë‹¤.
![](https://velog.velcdn.com/images/seongcheoljeon/post/debe897e-3313-4040-8802-bbcf435db4d6/image.png)

í•´ë‹¹ íŒŒì¼ë“¤ì˜ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

`Base` íŒŒì¼ ë‚´ìš©

```cpp
// Base.h

#ifndef __BASE_H__
#define __BASE_H__

class Base{
    public:
    Base();
    virtual ~Base();
    virtual void ShowValues() const = 0;
    static int GetCount();

    protected:
    static int count;
};

#endif // __BASE_H__
```

```cpp
// Base.cpp

#include "Base.h"
#include <iostream>

using namespace std;

Base::Base(){
    cout << "Base constructor" << endl;
}

Base::~Base(){
    cout << "Base destructor" << endl;
}

int Base::GetCount() {
    return count;
}

int Base::count = 0;
```

`A_Module` íŒŒì¼ ë‚´ìš©

```cpp
// A_Module.h

#ifndef __A_MODULE_H__
#define __A_MODULE_H__

#include "Base.h"


class A_Module : public Base{
    public:
    A_Module(int x, int y);
    ~A_Module() override;
    void ShowValues() const override;

    private:
    int x;
    int y;
};

#endif // __A_MODULE_H__
```

```cpp
#include "A_Module.h"

#include <iostream>

using namespace std;


A_Module::A_Module(int x, int y) : x(x), y(y){
    cout << "A_Module constructor" << endl;
    count++;
}

A_Module::~A_Module(){
    cout << "A_Module destructor" << endl;
    count--;
}

void A_Module::ShowValues() const{
    cout << "x: " << x << ", y: " << y << endl;
}
```

`B_Module` íŒŒì¼ ë‚´ìš©

```cpp
// B_Module.h

#ifndef __B_MODULE_H__
#define __B_MODULE_H__

#include "Base.h"


class B_Module : public Base{
    public:
    B_Module(int x, int y);
    ~B_Module() override;
    void ShowValues() const override;

    private:
    int x;
    int y;
};

#endif // __B_MODULE_H__
```

```cpp
#include "B_Module.h"

#include <iostream>

using namespace std;


B_Module::B_Module(int x, int y) : x(x), y(y){
    cout << "B_Module constructor" << endl;
    count++;
}

B_Module::~B_Module(){
    cout << "B_Module destructor" << endl;
    count--;
}

void B_Module::ShowValues() const{
    cout << "x: " << x << ", y: " << y << endl;
}
```

`main.cpp` íŒŒì¼ ë‚´ìš©

```cpp
#include "Base.h"
#include "A_Module.h"
#include "B_Module.h"

#include <iostream>

int main(){
    Base* a = new A_Module(1, 2);
    Base* b = new B_Module(3, 4); 

    a->ShowValues();
    b->ShowValues();

    std::cout << "Count: " << Base::GetCount() << std::endl;

    delete a;
    delete b;

    std::cout << "Count: " << Base::GetCount() << std::endl;

    return 0;
}
```

`make`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  `g++`ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```terminal
g++ -std=c++17 -I./include src/A_Module.cpp src/B_Module.cpp src/Base.cpp src/main.cpp -o main.out
```

ìœ„ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ `main.out`ì´ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì´ ìƒì„±ëœë‹¤. ê·¸ëŸ°ë° ë§Œì•½, `A_Module.cpp`íŒŒì¼ì—ì„œ ìˆ˜ì •ì´ ìƒê²¼ë‹¤ê³  ê°€ì •í•´ë³´ì.
ì´ëŸ° ìƒí™©ì—ì„œ ë‹¤ì‹œ í•œë²ˆ ìœ„ì™€ ê°™ì€ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´, ìˆ˜ì •í•˜ì§€ ì•Šì€ ì†ŒìŠ¤ì½”ë“œë“¤ê¹Œì§€ë„ ì»´íŒŒì¼ì´ ì§„í–‰ëœë‹¤. ğŸ¥º

í˜„ì¬ëŠ” ê°„ë‹¨í•œ ì˜ˆì œë¡œ ë§Œë“¤ì–´ ì»´íŒŒì¼ì„ ì§„í–‰í•˜ë¯€ë¡œ ì»´íŒŒì¼ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ì§€ ì•Šì§€ë§Œ ì†ŒìŠ¤ì½”ë“œê°€ ìƒë‹¹íˆ ë§ìœ¼ë©´ ì»´íŒŒì¼ ì‹œê°„ì´ ë¹„ì•½ì ìœ¼ë¡œ ëŠ˜ì–´ë‚œë‹¤. ê·¸ëŸ°ë° ìˆ˜ì •ë ë•Œë§ˆë‹¤ ë§¤ë²ˆ ë§ì€ ì†ŒìŠ¤ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤.

ë”°ë¼ì„œ ì´ëŸ´ë•ŒëŠ” `ëª©ì  íŒŒì¼(obj)`ì„ ìƒì„±í•´ ë†“ê³ , ìˆ˜ì •ëœ íŒŒì¼ë§Œ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ëŠ” ë°©ì•ˆì„ ê³ ë ¤í•´ì•¼ í•œë‹¤. ì´ëŸ¬ë©´ ì‹¤í–‰íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì‹œê°„ì„ ìƒë‹¹íˆ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ğŸ˜†

ë‹¤ìŒì€ `ëª©ì íŒŒì¼(obj)`ì„ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤.

```terminal
g++ -std=c++17 -I./include -c src/A_Module.cpp src/B_Module.cpp src/Base.cpp src/main.cpp
```
![](https://velog.velcdn.com/images/seongcheoljeon/post/04aa7469-d7aa-4493-9bec-a3aefae636d9/image.png)

ìœ„ì˜ ì‚¬ì§„ì„ ë³´ë©´, ëª¨ë“  ì†ŒìŠ¤ ì½”ë“œë“¤ì„ ëª©ì  íŒŒì¼ë¡œ ë§Œë“  ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ë¯¸ë¦¬ ì»´íŒŒì¼ í•´ ë†“ê³ , ìˆ˜ì •ëœ íŒŒì¼ë§Œ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ë©´ ì»´íŒŒì¼ ì‹œê°„ì„ ë¹„ì•½ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.

ì°¸ê³ ë¡œ `ì†ŒìŠ¤ íŒŒì¼(.cpp)`ì€ `ëª©ì  íŒŒì¼(obj)`ì¸ `ì–´ì…ˆë¸”ë¦¬ì–´`ë¡œ ì»´íŒŒì¼ ëœë‹¤. ë‹¤ìŒì€ ëª©ì  íŒŒì¼ì˜ ë‚´ìš©(ì–´ì…ˆë¸”ë¦¬ì–´)ì„ ì‚´í´ë³´ëŠ” ëª…ë ¹ì–´ì´ë‹¤.

```terminal
objdump -S Base.o
```

![](https://velog.velcdn.com/images/seongcheoljeon/post/b6cb2446-0f33-47f4-9cac-7895654f3baf/image.png)

ë§Œë“¤ì–´ ë†“ì€ `ëª©ì  íŒŒì¼(obj)`ë¡œ `ì‹¤í–‰ íŒŒì¼`ì„ ë§Œë“¤ì–´ ë³´ì.

```terminal
g++ -std=c++17 Base.o A_Module.o B_Module.o main.o -o main.out
```

![](https://velog.velcdn.com/images/seongcheoljeon/post/4d734ed8-d8d5-4572-8d2b-16fe573c1a6c/image.png)

`ë§ì»¤`ë¡œ ëª©ì  íŒŒì¼ë“¤ì„ ì‹¤í–‰ íŒŒì¼ë¡œ ìƒì„±í•˜ë©´, ì•„ì£¼ ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° í˜„ì¬ ë¬¸ì œê°€ ìˆë‹¤. 
ê·¸ ë¬¸ì œëŠ” í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë©´ shellì— ì…ë ¥í•´ì•¼ í•  ëª…ë ¹ì–´ë“¤ì´ ë§ì•„ì§„ë‹¤ëŠ” ë¬¸ì œì´ë‹¤. 
ì´ ë¬¸ì œë¥¼ íƒ€íŒŒí•˜ëŠ” ì¢‹ì€ ì†”ë£¨ì…˜ì´ ë°”ë¡œ `make`ì™€ `Makefile`ì´ë‹¤.

---

## Makefile

`make`ëŠ” ì£¼ì–´ì‹  shell ëª…ë ¹ì–´ë“¤ì„ ì¡°ê±´ì— ë§ê²Œ ì‹¤í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ ë•Œ ì–´ë– í•œ ì¡°ê±´ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ì§€ ë‹´ì€ íŒŒì¼ì„ `Makefile`ì´ë¼ê³  ë¶€ë¥´ë©°, `make`ë¥¼ í„°ë¯¸ë„ ìƒì—ì„œ ì‹¤í–‰í•˜ê²Œ ëœë‹¤ë©´ í•´ë‹¹ ìœ„ì¹˜ì— ìˆëŠ” `Makefile`ì„ ì°¾ì•„ì„œ ì½ì–´ë“¤ì´ê²Œ ëœë‹¤.

- __êµ¬ì¡°__
  - __ëª©ì íŒŒì¼ (Target)__
    - ëª…ë ¹ì–´ê°€ ìˆ˜í–‰ë˜ì–´ ë‚˜ì˜¨ ê²°ê³¼ë¥¼ ì €ì¥í•  íŒŒì¼
  - __ì˜ì¡´ì„± (Dependency)__
    - ëª©ì  íŒŒì¼ì„ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ì¬ë£Œ
  - __ëª…ë ¹ì–´ (Command)__
    - ì‹¤í–‰ ë˜ì–´ì•¼ í•  ëª…ë ¹ì–´ë“¤
  - __ë§¤í¬ë¡œ (Macro)__
    - ì½”ë“œë¥¼ ë‹¨ìˆœí™” ì‹œí‚¤ê¸° ìœ„í•œ ë°©ë²•

### Makefileì´ ì¡°ê±´ì„ ê¸°ìˆ í•˜ëŠ” ë°©ì‹

```make
target ... : prerequisites ...
(íƒ­) recipe
...
...
```

`Makefile`ì€ ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì´ 3ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

#### target

`make`ë¥¼ ì‹¤í–‰í•  ë•Œ, `make abc`ì™€ ê°™ì´ ì–´ë– í•œ ê²ƒì„ `make`í•  ì§€ ì „ë‹¬í•˜ê²Œ ë˜ëŠ”ë°, ì´ë¥¼ `target`ì´ë¼ê³  ë¶€ë¥¸ë‹¤. ë§Œì¼ `make abc`ë¥¼ í•˜ì˜€ì„ ê²½ìš° `target`ì¤‘ì— `abc`ë¥¼ ì°¾ì•„ ì´ì— ëŒ€ì‘ë˜ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•´ì¤€ë‹¤.

#### recipes (ì‹¤í–‰í•  ëª…ë ¹ì–´)

ì£¼ì–´ì§„ `target`ì„ `make`í•  ë•Œ, ì‹¤í–‰í•  ëª…ë ¹ì–´ë“¤ì˜ ë‚˜ì—´ì´ë‹¤. í•œ ê°€ì§€ __ì¤‘ìš”í•œ ì __ ì€ `recipe`ìë¦¬ì— ëª…ë ¹ì–´ë¥¼ ì“¸ ë•Œ, ë°˜ë“œì‹œ `Tab(íƒ­)` í•œ ë²ˆìœ¼ë¡œ `ë“¤ì—¬ì“°ê¸°`ë¥¼ í•´ ì¤˜ì•¼ë§Œ í•œë‹¤ëŠ” ì ì´ë‹¤. 
ë³´í†µ ìš”ì¦˜ì˜ í¸ì§‘ê¸°ì˜ ê²½ìš°, ìë™ìœ¼ë¡œ `Tab`ì„ `Space`ë¡œ ë°”ê¿”ì£¼ëŠ” ì˜µì…˜ì´ í™œì„±í™”ë˜ì–´ ìˆì„í…ë° `make`ê°€ `Makefile`ì„ ì œëŒ€ë¡œ ì½ì–´ë“¤ì´ê¸° ìœ„í•´ì„œëŠ” ***ë°˜ë“œì‹œ `Tab(íƒ­)`ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.***

#### prerequisites (í•„ìš” ì¡°ê±´ë“¤)

ì£¼ì–´ì§„ `target`ì„ `make`í•  ë•Œ, ì‚¬ìš©ë  **íŒŒì¼ë“¤ì˜ ëª©ë¡**ì´ë‹¤. ë‹¤ë¥¸ ë§ë¡œ `ì˜ì¡´ íŒŒì¼(denpendency)`ë¼ê³ ë„ í•œë‹¤. ì™œëƒí•˜ë©´ í•´ë‹¹ `target`ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ê±´ë“œë ¤ì•¼ í•  íŒŒì¼ë“¤ì„ ì¨ ë†“ì€ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.
ë§Œì¼ ì£¼ì–´ì§„ íŒŒì¼ë“¤ì˜ `ìˆ˜ì • ì‹œê°„`ë³´ë‹¤ `target`ì´ ë” ë‚˜ì¤‘ì— ìˆ˜ì •ë˜ì—ˆë‹¤ë©´ í•´ë‹¹ `target`ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ ì´ìœ ëŠ” ì´ë¯¸ ì´ì „ì— `target`ì´ ë§Œë“¤ì ¸ìˆë‹¤ê³  ê°„ì£¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `target`ì´ `main.o`ì´ê³ , ëª…ë ¹ì–´ê°€ `g++ -c main.cpp`ë¼ë©´, í•„ìš” ì¡°ê±´ë“¤ì€ `main.cpp`, `A_Module.h`, `B_Module.h`, `Base.h`ê°€ ëœë‹¤. ì™œëƒí•˜ë©´ ì´ë“¤ íŒŒì¼ë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ ë°”ë€ë‹¤ë©´ `main`ì„ ìƒˆë¡œ ì»´íŒŒì¼í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 
ë°˜ë©´ `main.o`ì˜ ìƒì„± ì‹œê°„ì´ `main.cpp`, `A_Module.h`, `B_Module.h`, `Base.h`ë“¤ì˜ ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„ ë³´ë‹¤ ë‚˜ì¤‘ì´ë¼ë©´, êµ³ì´ `main.o`ë¥¼ ë‹¤ì‹œ ì»´íŒŒì¼ í•  í•„ìš”ê°€ ì—†ë‹¤.

ê·¸ë ‡ë‹¤ë©´ ìœ„ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ `Makefile`ì„ ê°„ë‹¨í•˜ê²Œ êµ¬ì„±í•´ ë³´ì.

```make
Base.o : src/Base.cpp include/Base.h
	g++ -std=c++17 -I./include -c src/Base.cpp

A_Module.o : src/A_Module.cpp include/A_Module.h
	g++ -std=c++17 -I./include -c src/A_Module.cpp

B_Module.o : src/B_Module.cpp include/B_Module.h
	g++ -std=c++17 -I./include -c src/B_Module.cpp

main.o : src/main.cpp include/Base.h include/A_Module.h include/B_Module.h
	g++ -std=c++17 -I./include -c src/main.cpp

main : Base.o A_Module.o B_Module.o main.o
	g++ -std=c++17 main.o Base.o A_Module.o B_Module.o -o main.out

clean:
	rm -f *.o main.out
```

ê·¸ í›„ í•´ë‹¹ `Makefile`ì„ ì‹¤í–‰í•˜ì—¬ `main.out`ì´ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì„ ìƒì„±í•˜ì.

```terminal
make main
```

![](https://velog.velcdn.com/images/seongcheoljeon/post/4913f940-2ea8-4747-bef1-ed4b660ce704/image.png)

ìœ„ì˜ ì‚¬ì§„ì—ì„œ ë³´ë‹¤ì‹œí”¼ `main.out`ì´ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì´ ë§Œë“¤ì–´ì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. `make`ëŠ” `main.out`ì´ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì†ŒìŠ¤ë“¤ì„ ì¶”ì í•˜ì—¬ **ìˆ˜ì • ì‹œê°„ì„ ë¹„êµí•´ ìˆ˜ì •ëœ ì†ŒìŠ¤ë“¤ë§Œ ì¬ì»´íŒŒì¼í•œë‹¤.** ê³ ë¡œ ì‹¤í–‰íŒŒì¼ì„ ë§Œë“¤ê¸° ìœ„í•œ ì»´íŒŒì¼ ì‹œê°„ì´ íšê¸°ì ìœ¼ë¡œ ì¤„ì–´ë“ ë‹¤. ğŸ˜Œ

### Makefile - Macro

#### ë³€ìˆ˜ ì •ì˜

`Makefile`ë‚´ì—ì„œ ë³€ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ë‹¤.
```make
CXX = g++
```

ìœ„ ê²½ìš° `CXX`ë¼ëŠ” ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì˜€ëŠ”ë°, ì´ì œ `Makefile`ë‚´ì—ì„œ `CXX`ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´ í•´ë‹¹ ë³€ìˆ˜ì˜ ë¬¸ìì—´ì¸ `g++`ë¡œ ì¹˜í™˜ëœë‹¤. ì´ ë•Œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `$(CXX)`ì™€ ê°™ì´ `$( )`ì•ˆì— ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ë³€ìˆ˜ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë©´ ëœë‹¤.

ì°¸ê³ ë¡œ `Makefile`ì—ì„œ ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ `=`, `:=` ì´ë ‡ê²Œ ë‘ ê°€ì§€ì˜ ë°©ë²•ì´ ìˆë‹¤.

##### "="ì„ ì‚¬ìš©í•œ ë³€ìˆ˜ ì •ì˜

`=`ë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì˜€ì„ ë•Œ, ì •ì˜ì— ë‹¤ë¥¸ ë³€ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ í•´ë‹¹ ë³€ìˆ˜ê°€ ì •ì˜ë  ë•Œê¹Œì§€ ë³€ìˆ˜ì˜ ê°’ì´ ì •í•´ì§€ì§€ ì•ŠëŠ”ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì¥ì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.

```make
B = $(A)
C = $(B)
A = "abc"
```

`C`ì˜ ê²½ìš° `B`ì˜ ê°’ì„ ì°¸ì¡°í•˜ê³  ìˆê³ , `B`ì˜ ê²½ìš° `A`ì˜ ê°’ì„ ì°¸ì¡°í•˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ `B =`ë¥¼ ì‹¤í–‰í•œ ì‹œì ì—ì„œ `A`ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ `B`ëŠ” ê·¸ëƒ¥ ë¹ˆ ë¬¸ìì—´ì´ ë˜ì–´ì•¼ í•˜ì§€ë§Œ, `=`ë¡œ ì •ì˜í–ˆê¸°ì— `A`ê°€ ì‹¤ì œë¡œ ì •ì˜ë  ë•Œ ê¹Œì§€ `B`ì™€ `C`ê°€ ê²°ì •ë˜ì§€ ì•ŠëŠ”ë‹¤.
ê²°êµ­ ë§ˆì§€ë§‰ì— `A = "abc"`ë¥¼ í†µí•´ `A`ê°€ `"abc"`ë¡œ ëŒ€ì‘ë˜ì–´ì•¼ `C`ê°€ `"abc"`ë¡œ ê²°ì •ëœë‹¤.

##### ":="ì„ ì‚¬ìš©í•œ ë³€ìˆ˜ ì •ì˜

ë°˜ë©´ì— `:=`ë¡œ ë³€ìˆ˜ë¥¼ ì •ì˜í•  ê²½ìš°, í•´ë‹¹ ì‹œì ì—ì„œì˜ ë³€ìˆ˜ ê°’ë§Œ í™•ì¸í•œë‹¤. ë”°ë¼ì„œ ìœ„ ê²½ìš° `B`ëŠ” ê·¸ëƒ¥ ë¹ˆ ë¬¸ìì—´ì´ ëœë‹¤.
ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œëŠ” `=`, `:=` ì¤‘ ì•„ë¬´ê±°ë‚˜ ì‚¬ìš©í•´ë„ ìƒê´€ ì—†ë‹¤.

- ë§Œì¼ ë³€ìˆ˜ë“¤ì˜ ì •ì˜ ìˆœì„œì— í¬ê²Œ êµ¬ì• ë°›ê³  ì‹¶ì§€ ì•Šë‹¤ë©´, `=`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸í•˜ë‹¤.
  - `Makefile`ì˜ ë³€ìˆ˜ ì •ì˜ ìˆœì„œê°€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤? ê·¸ë ‡ë‹¤ë©´ `=`
- `A = `ì™€ ê°™ì´ ìê¸° ìì‹ ì„ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤ë©´ `:=`ë¥¼ ì‚¬ìš©í•´ì•¼ë§Œ ë¬´í•œ ë£¨í”„ë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.
  - `Makefile`ì˜ ë³€ìˆ˜ ì •ì˜ ìˆœì„œê°€ ì¤‘ìš”í•˜ë‹¤? ê·¸ë ‡ë‹¤ë©´ `:=`

#### ë³€ìˆ˜ë¥¼ ì´ìš©í•œ Makefile ì‘ì„±

ê·¸ëŸ¬ë©´ ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ `Makefile`ì˜ ë‚´ìš©ì„ ë³€ê²½í•´ë³´ì.

```make
CXX = g++
CXXFLAGS = -std=c++17 -Wall -O2 
INCLUDE = -I./include
OBJS = Base.o A_Module.o B_Module.o main.o

Base.o : src/Base.cpp include/Base.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c src/Base.cpp

A_Module.o : src/A_Module.cpp include/A_Module.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c src/A_Module.cpp

B_Module.o : src/B_Module.cpp include/B_Module.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c src/B_Module.cpp

main.o : src/main.cpp include/Base.h include/A_Module.h include/B_Module.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c src/main.cpp

main : $(OBJS)
	$(CXX) $(CXXFLAGS) $(OBJS) -o main.out

clean:
	rm -f main.out $(OBJS)
```

`CC`, `CXX`ì™€ `CFLAGS`, `CXXFLAGS`ëŠ” `Makefile`ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜ë¡œ ë³´í†µ `CC`, `CXX`ì—ëŠ” ì‚¬ìš©í•˜ëŠ” **`ì»´íŒŒì¼ëŸ¬ ì´ë¦„`** ì„, `CFLAGS`, `CXXFLAGS`ì—ëŠ” **`ì»´íŒŒì¼ëŸ¬ ì˜µì…˜`** ì„ ì£¼ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

ì´ ê²½ìš° `g++`ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ë©°, ì˜µì…˜ìœ¼ë¡œ `Wall(ëª¨ë“  ì»´íŒŒì¼ëŸ¬ ê²½ê³  í‘œì‹œ)`ê³¼ `O2(ìµœì í™” ë ˆë²¨2)`ë¥¼ ì£¼ì—ˆë‹¤.

#### PHONY

`Makefile`ì— í”íˆ ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë¹Œë“œ ê´€ë ¨ íŒŒì¼ë“¤(*.o íŒŒì¼ë“¤)ì„ ëª¨ë‘ ì œê±°í•˜ëŠ” ëª…ë ¹ì„ ë„£ëŠ”ë‹¤.

```make
clean:
	rm -f main.out $(OBJS)
```

`make clean`ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ë©´ ìƒì„±ëœ ëª¨ë“  ëª©ì  íŒŒì¼ê³¼ `main.out`ì„ ì œê±°í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ°ë° ë§Œì•½, `clean`ì´ë¼ëŠ” íŒŒì¼ì´ ë””ë ‰í† ë¦¬ì— ìƒì„±ë˜ì–´ ì¡´ì¬í•œë‹¤ë©´ `make clean`ëª…ë ¹ì„ ë¬´ì‹œí•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ìƒí™©ì„ ë§‰ê¸° ìœ„í•´ì„  `clean`ì„ `PHONY`ë¼ê³  ë“±ë¡í•˜ë©´ ëœë‹¤.

> PHONYëŠ” `ê°€ì§œì˜`, `í—ˆìœ„ì˜`ë¼ëŠ” ëœ»ì´ë‹¤.
{: .prompt-info }

```make
.PHONY : clean
clean :
	rm -f main.out $(OBJS)
```

ì´ì œ `make clean`ì„ í•˜ê²Œ ë˜ë©´, `clean`íŒŒì¼ì˜ ìœ ë¬´ì™€ ìƒê´€ ì—†ì´ ì–¸ì œë‚˜ í•´ë‹¹ íƒ€ê²Ÿì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

#### íŒ¨í„´ ë§¤ì¹­ ì‚¬ìš©

ìœ„ì˜ ê²½ìš° íŒŒì¼ì´ ëª‡ê°œ ì—†ì–´ ë‹¤í–‰ì´ë‹¤. í—ˆë‚˜ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìˆ˜ì‹­ ~ ìˆ˜ë°± ê°œì˜ íŒŒì¼ë“¤ì„ ë‹¤ë£¨ê²Œ ëœë‹¤. ê·¸ëŸ°ë° ê°ê°ì˜ íŒŒì¼ë“¤ì— ëŒ€í•´ì„œ ëª¨ë‘ ë¹Œë“œ ë°©ì‹ì„ ëª…ì‹œí•´ì¤€ë‹¤ë©´ `Makefile`ì˜ í¬ê¸°ê°€ ì—„ì²­ ì»¤ì§€ê²Œ ëœë‹¤.

ì´ëŸ´ ë•Œ, `íŒ¨í„´ ë§¤ì¹­`ì„ í†µí•´ íŠ¹ì • ì¡°ê±´ì— ë¶€í•©í•˜ëŠ” íŒŒì¼ë“¤ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ `recipe`ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```make
foo.o : foo.cpp foo.h
	$(CXX) $(CXXFLAGS) -c foo.cpp
    
bar.o : bar.cpp bar.h
	$(CXX) $(CXXFLAGS) -c bar.cpp
```

ìœ„ì˜ ëª…ë ¹ë“¤ì„ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.

```make
%.o : %.cpp %.h
	$(CXX) $(CXXFLAGSOP) -c $<
```

- __%.o__
  - ì™€ì¼ë“œì¹´ë“œë¡œ ë”°ì§€ë©´ `*.o`ì™€ ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì¦‰, `.o`ë¡œ ëë‚˜ëŠ” íŒŒì¼ ì´ë¦„ë“¤ì´ íƒ€ê²Ÿì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `foo.o`ê°€ íƒ€ê²Ÿì´ë¼ë©´ `%`ì—ëŠ” `foo`ê°€ ë“¤ì–´ê°ˆ ê²ƒì´ë‹¤.
  - í•´ë‹¹ íŒ¨í„´ì€ íƒ€ê²Ÿê³¼ `prerequisite` ë¶€ë¶„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. `recipe` ë¶€ë¶„ì—ëŠ” íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- __$<__
  - `prerequisite`ì—ì„œ ì²« ë²ˆì§¸ íŒŒì¼ì˜ ì´ë¦„ì— ëŒ€ì‘ë˜ì–´ ìˆëŠ” ë³€ìˆ˜ì´ë‹¤. ìœ„ì˜ ê²½ìš° `foo.cpp`ê°€ ë˜ê² ë‹¤.

`Makefile`ì—ì„œ ì œê³µí•˜ëŠ” ìë™ ë³€ìˆ˜ë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ `$@`, `$<`, `$^` ë“±ë“±ì´ ìˆë‹¤.

![](https://velog.velcdn.com/images/seongcheoljeon/post/7b0840fb-655e-4cd9-b8a6-29a63d4bc60c/image.png)

- __$@__
  - target ì´ë¦„ì— ëŒ€ì‘ëœë‹¤.
- __$<__
  - ì˜ì¡´ íŒŒì¼ ëª©ë¡ì— ì²« ë²ˆì§¸ íŒŒì¼ì— ëŒ€ì‘ëœë‹¤.
- __$^__
  - ì˜ì¡´ íŒŒì¼ ëª©ë¡ ì „ì²´ì— ëŒ€ì‘ëœë‹¤.
- __$?__
  - target ë³´ë‹¤ ìµœì‹ ì¸ ì˜ì¡´ íŒŒì¼ë“¤ì— ëŒ€ì‘ëœë‹¤.
- __$+__
  - `$^`ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, ì¤‘ë³µëœ íŒŒì¼ ì´ë¦„ë“¤ê¹Œì§€ ëª¨ë‘ í¬í•¨í•œë‹¤.
  
í•˜ì§€ë§Œ ìœ„ì˜ íŒ¨í„´ë“¤ë¡œëŠ” ì•„ë˜ì™€ ê°™ì€ ê²ƒì„ í‘œí˜„í•˜ê¸°ì—ëŠ” ë¶€ì¡±í•˜ë‹¤.

```make
main.o : main.cpp foo.h bar.h
	$(CXX) $(CXXFLAGS) -c main.cpp
```

ê·¸ ì´ìœ ëŠ” ì˜ì¡´ íŒŒì¼ ëª©ë¡ì— `main.h`ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. `Makefile` êµ¬ì¡°ì˜ ì˜ì¡´ íŒŒì¼ ëª©ë¡ì„ ë³´ë©´ ***í•´ë‹¹ ì†ŒìŠ¤ íŒŒì¼ì´ ì–´ë– í•œ í—¤ë”íŒŒì¼ì„ í¬í•¨í•˜ê³  ìˆëƒ*** ë¡œ ê²°ì •ëœë‹¤. 
ì¦‰, `main.cpp`ì—ëŠ” `foo.h`, `bar.h`ë¥¼ include í•˜ê³  ìˆê¸° ë•Œë¬¸ì— `main.o`ì˜ `prerequisite`ë¡œ `main.cpp` ì™¸ì—ë„ `foo.h`, `bar.h`ê°€ ë“¤ì–´ê°€ìˆëŠ” ê²ƒì´ë‹¤.

ì†ŒìŠ¤ íŒŒì¼ì— í•´ë” íŒŒì¼ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ `Makefile`ì„ ë°”ê¾¸ëŠ” ê²ƒì€ ë„ˆë¬´ ë¹„íš¨ìœ¨ì ì´ë‹¤. ê·¸ë˜ì„œ ì´ëŸ´ ë•Œì—ëŠ” **ì»´íŒŒì¼ëŸ¬ì˜ ë„ì›€ì„ ë°›ì•„ ì˜ì¡´ íŒŒì¼ ëª©ë¡ ë¶€ë¶„ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.**

### ìë™ìœ¼ë¡œ prerequisite ë§Œë“¤ê¸°

ì»´íŒŒì¼ ì‹œ, `-MD` ì˜µì…˜ì„ ì¶”ê°€í•´ì„œ ì»´íŒŒì¼ì„ í•´ë³´ì.

```terminal
g++ -std=c++17 -I./include -MD -c src/main.cpp
```

`main.d`ë¼ëŠ” íŒŒì¼ì´ ìƒì„±ë˜ì—ˆì„ ê²ƒì´ë‹¤. í•´ë‹¹ íŒŒì¼ ë‚´ìš©ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

![](https://velog.velcdn.com/images/seongcheoljeon/post/1dc09f2b-899c-4b12-8f7e-d4c3ba90b491/image.png)


ë§ˆì¹˜ `Makefile`ì˜ `target : prerequisite`ì¸ ê²ƒ ì²˜ëŸ¼ ìƒê²¼ë‹¤. 
ì¦‰, ì»´íŒŒì¼ ì‹œì— `-MD` ì˜µì…˜ì„ ì¶”ê°€í•´ì£¼ë©´, ëª©ì  íŒŒì¼ ë§ê³ ë„ ì»´íŒŒì¼ í•œ ì†ŒìŠ¤ íŒŒì¼ì„ íƒ€ê²Ÿìœ¼ë¡œ í•˜ëŠ” `ì˜ì¡´ íŒŒì¼ ëª©ë¡`ì„ ë‹´ì€ íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤.

ì´ë ‡ê²Œ ìƒì„±ëœ `main.d` íŒŒì¼ì„ `Makefile`ì— í¬í•¨í•˜ë„ë¡ í•´ë³´ì.

```make
CXX = g++
CXXFLAGS = -std=c++17 -Wall -O2 
INCLUDE = -I./include
OBJS = Base.o A_Module.o B_Module.o main.o

%.o : src/%.cpp include/%.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c $<

main : $(OBJS)
	$(CXX) $(CXXFLAGS) $(OBJS) -o main.out

.PHONY : clean
clean :
	rm -f main.out $(OBJS)

include main.d
```

ìœ„ì˜ `include main.d`ëŠ” `main.d`ë¼ëŠ” íŒŒì¼ì˜ ë‚´ìš©ì„ `Makefile`ì— í¬í•¨í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¶€ë¶„ì„ ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ `.d`íŒŒì¼ë¡œ ëŒ€ì²´í•˜ë„ë¡ í•˜ì.

```make
%.o : %.cpp %.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c $<
```

ì´ ë¶€ë¶„ì„ ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ `.d` íŒŒì¼ë¡œ ëŒ€ì²´í•˜ë©´ ì•„ì£¼ íš¨ìœ¨ì ì¸ `Makefile`ì´ ë  ê²ƒì´ë‹¤.

```make
CXX = g++
CXXFLAGS = -std=c++17 -Wall -O2 
INCLUDE = -I./include
OBJS = Base.o A_Module.o B_Module.o main.o

%.o : src/%.cpp include/%.h
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c $<

main : $(OBJS)
	$(CXX) $(CXXFLAGS) $(OBJS) -o main.out

.PHONY : clean
clean :
	rm -f main.out $(OBJS)

-include $(OBJS:.o=.d)
```

`$(OBJS:.o=.d)` ë¶€ë¶„ì€ `OBJS`ì—ì„œ `.o`ë¡œ ëë‚˜ëŠ” ë¶€ë¶„ì„ `.d`ë¡œ ëª¨ë‘ ëŒ€ì²´í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì¦‰, í•´ë‹¹ ë¶€ë¶„ì€ `-include main.d Base.d A_Module.d B_Module.d` ê°€ ë  ê²ƒì´ë‹¤.

ê·¸ë¦¬ê³  `include`ì—ì„œ `-include`ë¡œ ë°”ë€Œì—ˆëŠ”ë°, `-include`ì˜ ê²½ìš° í¬í•¨í•˜ê³ ì í•˜ëŠ” íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ `make` ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤.

![](https://velog.velcdn.com/images/seongcheoljeon/post/d5ccff25-3999-4d9c-855f-dadb54fea954/image.png)

ìœ„ì™€ ê°™ì€ íŒŒì¼ êµ¬ì¡°ê°€ ìˆë‹¤.ëª¨ë“  ì†ŒìŠ¤ íŒŒì¼ì€ `src`ì— ë“¤ì–´ê°€ ìˆê³ , í•´ë” íŒŒì¼ì€ `include`ì— ë“¤ì–´ê°€ ìˆìœ¼ë©°, ë¹Œë“œ íŒŒì¼ë“¤ì€ `build`ë¼ëŠ” ë””ë ‰í† ì— ë“¤ì–´ê°ˆ ê²ƒì´ë‹¤. 
ì´ëŸ° êµ¬ì¡°ì—ì„œ í•­ìƒ ë§Œì¡±í•˜ë©° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `Makefile`ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```make
CXX = g++

# C++ ì»´íŒŒì¼ëŸ¬ ì˜µì…˜
CXXFLAGS = -std=c++17 -Wall -O2

# ë§ì»¤ ì˜µì…˜
LDFLAGS = 

# í—¤ë” íŒŒì¼ ê²½ë¡œ
INCLUDE = -Iinclude/

# ì†ŒìŠ¤ íŒŒì¼ ë””ë ‰í† ë¦¬
SRC_DIR = ./src

# ë¹Œë“œ íŒŒì¼ ë””ë ‰í† ë¦¬
BUILD_DIR = ./build

# ìƒì„±í•˜ê³ ì í•˜ëŠ” ì‹¤í–‰ íŒŒì¼ ì´ë¦„
TARGET = main

# Makeí•  ì†ŒìŠ¤ íŒŒì¼ë“¤
# wildcardë¡œ sRC_DIRì—ì„œ *.cppë¡œ ëœ íŒŒì¼ë“¤ ëª©ë¡ì„ ê°€ì ¸ì˜¨ ë’¤ ê·¸ê²ƒì„ notdirë¡œ íŒŒì¼ëª…ë§Œ ì¶”ì¶œ
# ex) $(notdir $(wildcard $(SRC_DIR)/*.cpp)) -> main.cpp Base.cpp A.cpp B.cpp
SRCS = $(notdir $(wildcard $(SRC_DIR)/*.cpp))

OBJS = $(SRCS:.cpp=.o)

# OBJSì•ˆì˜ object íŒŒì¼ë“¤ ì´ë¦„ ì•ì— $(BUILD_DIR)/ì„ ë¶™ì¸ë‹¤.
OBJECTS = $(patsubst %.o, $(BUILD_DIR)/%.o, $(OBJS))
DEPS = $(OBJECTS:.o=.d)

all: main

$(BUILD_DIR)/%.o : $(SRC_DIR)/%.cpp
	$(CXX) $(CXXFLAGS) $(INCLUDE) -c $< -o $@ -MD $(LDFLAGS)

$(TARGET) : $(OBJECTS)
	$(CXX) $(CXXFLAGS) $(OBJECTS) -o $(TARGET) $(LDFLAGS)

.PHONY: clean all
clean:
	rm -f $(OBJECTS) $(DEPS) $(TARGET)

-include $(DEPS)
```

ì´ê²ƒì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```terminal
mkdir build && make
```

![](https://velog.velcdn.com/images/seongcheoljeon/post/96a69e4f-d732-493b-8cb0-863521af3508/image.png)

ì‹¤í–‰ì´ ì˜ ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

## âš¡ï¸ ë©€í‹° ì½”ì–´ë¡œ Make ì†ë„ë¥¼ ì˜¬ë¦¬ì

ë‹¨ìˆœíˆ `make`ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, ë‹¨ í•œê°œì˜ ìŠ¤ë ˆë“œì¸ `ì‹±ê¸€ ì½”ì–´`ë§Œ ì‹¤í–‰ë˜ì–´ì„œ ì†ë„ê°€ ìƒë‹¹íˆ ëŠë¦¬ë‹¤. íŠ¹íˆ `GCC`ë‚˜ `ì»¤ë„`ì„ ì»´íŒŒì¼ í•  ê²½ìš°, í•œ ë‘ì‹œê°„ì€ ê·¸ëƒ¥ ë„˜ì–´ê°€ê²Œ ëœë‹¤.
ì´ëŸ´ ë•Œ `ë©€í‹° ì½”ì–´`ë¡œ `make`ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ì¸ìë¡œ `-j` ë’¤ì— *ëª‡ ê°œì˜ ìŠ¤ë ˆë“œ* ë¥¼ ì‚¬ìš©í•  ì§€ ìˆ«ìë¥¼ ì ì–´ì„œ ì „ë‹¬í•˜ê²Œ ëœë‹¤.

```terminal
make -j8
```

ìœ„ì™€ ê°™ì´ `8`ì„ ì „ë‹¬í•˜ê²Œë˜ë©´, `8ê°œì˜ ìŠ¤ë ˆë“œ`ì— ë‚˜ë‰˜ì–´ì„œ ì‹¤í–‰ëœë‹¤. ë§Œì•½ í˜„ì¬ ì»´í“¨í„°ì˜ ì½”ì–´ ê°œìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ì…ë ¥í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ëœë‹¤.

```terminal
make -j$(nproc)
```

## ğŸš¨ Make ì‹¤í–‰ ì‹œ ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬

### Makefile:18: ***missing separator. Stop

í•´ë‹¹ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´, `command`ì•ì— `Tab(íƒ­)`ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ê²½ìš°ì´ë‹¤.


### make: *** No rule to make target \`A_Module.h\` needed by \`A_Module.o\`. Stop.

í•´ë‹¹ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´, `A_Module.o`ê°€ `A_Module.h`ì— ì˜ì¡´í•˜ëŠ”ë°, `A_Module.h`ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ê²½ìš°ì´ë‹¤. 
ì¦‰, ì˜ì¡´ ê´€ê³„ ë¬¸ì œì´ë‹¤.
